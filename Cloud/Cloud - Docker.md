# 도커

- 도커는 컨테이너 기반의 오픈소스 가상화 플랫폼이다.
- 다양한 프로그램, 실행환경을 컨테이너로 추상화하고 동일한 인터페이스를 제공하여 프로그램의 배포 및 관리를 단순하게 해준다.




### 컨테이너

- 기존의 가상머신은 운영체제 위에 하드웨어를 에뮬레이션하고 그 위에 운영체제를 올리고 프로세스를 실행하는 반면에, 도커 컨테이너는 하드웨어 에뮬렝션 없이 리눅스 커널을 공유해서 바로 프로세스를 실행한다.

![](http://192.168.100.42:12346/uploads/images/gallery/2020-08/scaled-1680-/image-1596706613366.png)

- 별도의 OS를 올리지 않음으로 overhead를 방지할 수 있다.



### 이미지

- 컨테이너 실행에 필요한 파일과 설정값 등을 포함하고 있는 것으로 상태 값을 가지지 않고 변하지 않는다.
- 컨테이너를 실행하기 위한 모든 정보를 가지고 있기 때문에 새로운 서버가 추가될 때 미리 만들어 놓은 이미지를 다운로드하고 컨테이너를 생성하면 기존의 컨테이너와 같은 환경을 구축할 수 있다.



### 이미지 레이어

- 도커의 이미지는 컨테이너를 실행하기 위한 모든 정보를 가지고 있기 때문에 용량이 수백메가에 이른다.
- 처음 다운받을 땐 크게 부담이 안되지만 기존 이미지에 파일 하나 추가했을 때 다시 수백메가를 다운 받는다면 매우 비효율적일 수 밖에 없다.
- 도커는 이런 문제를 해결하기 위해 **레이어**라는 개념을 사용하고 유니온 파일 시스템을 이용하여 여러개의 레이어를 하나의 파일 시스템으로 사용할 수 있게 해준다.
- 레이어를 나누어 컨테이너를 구성해서 변경되는 레이어만 관리한다.