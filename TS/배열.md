# 배열과 튜플

## 제네릭 방식 타입

배열을 다루는 함수를 작성할 때는 `number[]`와 같이 타입이 고정된 함수를 만들기보다는 `T[]` 형태로 배열의 아이템 타입을 한꺼번에 표현하는 것이 편리하다. 타입을 `T`와 같은 일종의 변수로 취급하는 것을 **제네릭 타입**이라고 한다.

```typescript
const arrayLength = (array: T[]): number => array.length;

// T가 타입변수임을 컴파일러에게 알려줘야 하기 때문에 아래와 같이 작성한다.
const arrayLength = <T>(array: T[]): number => array.length;
```

제네릭 형태로 구현된 함수는 `함수이름<타입변수>(매개변수)` 형태로 명시해야 한다.



### 시그니처

```typescript
const f = <T>(cb: (arg: T, i?: number) => number): void => {}
```



## 순수함수와 배열

### 순수함수

**순수함수**는 **부수 효과**(side-effect)가 없는 함수를 말하며, **부수효과**란함수가 가진 고유한 목적 이외의 다른 효과가 나타나는 것을 의미한다.

#### 순수함수 조건

- 함수 몸통에 입출력 관련 코드가 없어야 한다.
- 함수 몸통에서 매개변숫값을 변경시키지 않는다.(const, readonly)
- 함수는 몸통에서 만들어진 결과를 즉시 반환한다.
- 함수 내부에 전역 변수나 정적 변수를 사용하지 않는다.
- 함수가 예외를 발생시키지 않는다.
- 함수가 콜백 함수로 구현되었거나 함수 몸통에 콜백 함수를 사용하는 코드가 없다.
- 함수 몸통에 Promise 같은 비동기 방식으로 동작하는 코드가 없다.

```typescript
// 순수함수 예시
function pure(a: number, b: number): number { return a + b; }
```



### 타입 수정자 readonly

`readonly` 타입으로 선언된 매개변숫값을 변경하는 시도가 있으면 문제를 알려주어 불순함수가 되지 않게 방지한다. 타입스크립트에서 인터페이스, 클래스, 함수의 매개변수 등은 let이나 const 키워드 없이 선언하기 때문에 const와 같은 효과를 주려면 `readonly`가 필요하다.